<link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/core-menu/core-menu.html">
<link rel="import" href="bower_components/core-item/core-item.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">
<link rel="import" href="bower_components/core-icons/maps-icons.html">
<link rel="import" href="bower_components/core-icons/editor-icons.html">
<link rel="import" href="bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="bower_components/google-map/google-map.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">

<polymer-element name="directions-page">
<template>
	<style>

paper-shadow {
	z-index: 1;
}

core-toolbar {
	background: #03a9f4;
	color: white;
}

#slide-menu {
	margin: 12px 0;
}

#slide-menu > core-item {
	padding: 0 12px;
}

#slide-menu > core-item.core-selected {
	background: #E0E0E0;
}

#header {
	height: 150px;
	background-image: url(header.png);
	background-size: cover;
	background-repeat: no-repeat;
}

#drawer-panel [drawer] {
	background: #fafafa;
}

#routes-panel {
	overflow: auto;
	padding-top: 60vh;
}

#routes-panel::-webkit-scrollbar {
	width: 0;
	height: 0;
}

#routes-list {
	background: #fafafa;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
	display: none;
}

input:focus {
	outline: none;
}

#search-input {
	border-width: 0;
	background-color: transparent;
	font-size: 20px;
}

#back-button,
#clear-button,
#search-input {
	color: #212121;
}

	</style>
	<core-drawer-panel id="drawer-panel" flex>
		<div drawer layout vertical>
			<div id="header"></div>
			<core-menu id="slide-menu" selected="directions" on-core-select="{{menuSelected}}">
				<core-item name="directions" icon="maps:directions" label="Get directions"></core-item>
				<core-item name="statistics" icon="editor:insert-chart" label="Statistics"></core-item>
				<core-item name="funds" icon="payment" label="Add funds"></core-item>
			</core-menu>
		</div>
		<core-header-panel main>
			<core-toolbar id="main-toolbar">
				<paper-icon-button id="menu-button" icon="menu" on-tap="{{togglePanel}}"></paper-icon-button>
				<paper-icon-button id="back-button" icon="arrow-back" on-tap="{{searchBack}}"></paper-icon-button>
				<span id="directions-label" flex>Get directions</span>
				<input type="search" id="search-input" autocomplete="off" placeholder="Search places" on-input="{{searchInput}}">
				<paper-icon-button id="search-button" icon="search" on-tap="{{startSearch}}"></paper-icon-button>
				<paper-icon-button id="clear-button" icon="clear" on-tap="{{searchClear}}"></paper-icon-button>
			</core-toolbar>
			<google-map id="map"
			            latitude="-32.8955255"
			            longitude="151.6944619"
			            zoom="14"
			            disableDefaultUI
			            noAutoTilt
			            on-google-map-ready="{{mapReady}}"
			            fit>
			</google-map>
			<div id="routes-panel" fit layout vertical>
				<paper-shadow z="1">
					<div id="routes-list">
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
blah<br>
					</div>
				</paper-shadow>
			</div>
		</div>
	</core-drawer-panel>
</template>
<script>

(function() {
	"use strict";

	Polymer("directions-page", {
		ready: function ready() {
			this.$["back-button"].style.display = "none";
			this.$["clear-button"].style.display = "none";
			this.$["search-input"].style.display = "none";
		},
		menuSelected: function menuSelected(e, detail) {
			if (!detail.isSelected)
				return;

			switch (detail.item.getAttribute("name")) {
				case "statistics":
					window.location.href = "statistics.html";
					break;
				case "funds":
					window.location.href = "Funds.html";
					break;
			}
		},
		togglePanel: function togglePanel() {
			this.$["drawer-panel"].togglePanel();
		},
		startSearch: function startSearch() {
			this.$["back-button"].style.display = "";
			this.$["search-input"].style.display = "";
			this.$["clear-button"].style.display = "none";
			this.$["search-button"].style.display = "none";
			this.$["menu-button"].style.display = "none";
			this.$["directions-label"].style.display = "none";
			this.$["main-toolbar"].style.backgroundColor = "#F5F5F5";
			this.$["search-input"].value = "";
			this.$["search-input"].focus();
		},
		searchBack: function searchBack() {
			this.$["back-button"].style.display = "none";
			this.$["clear-button"].style.display = "none";
			this.$["search-input"].style.display = "none";
			this.$["search-button"].style.display = "";
			this.$["menu-button"].style.display = "";
			this.$["directions-label"].style.display = "";
			this.$["main-toolbar"].style.backgroundColor = "";
		},
		searchInput: function searchInput() {
			if (this.$["search-input"].value)
				this.$["clear-button"].style.display = "";
			else
				this.$["clear-button"].style.display = "none";
		},
		searchClear: function searchClear() {
			this.$["search-input"].value = "";
			this.$["search-input"].focus();
		},
		mapReady: function mapReady() {
			this.map = this.$["map"].map;

			var pathCoords = [
				new google.maps.LatLng(-32.902948, 151.676802),
				new google.maps.LatLng(-32.905002, 151.691029),
				new google.maps.LatLng(-32.905741, 151.692209),
				new google.maps.LatLng(-32.901381, 151.693604),
				new google.maps.LatLng(-32.892841, 151.695599),
			];

			var path = new google.maps.Polyline({
				path: pathCoords,
				geodesic: true,
				strokeColor: '#2962FF',
				strokeOpacity: 0.9,
				strokeWeight: 4,
			});

			path.setMap(this.map);
		},
	});
})();

</script>
</polymer-element>
